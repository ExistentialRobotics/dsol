# üõ¢Ô∏è DSOL: Direct Sparse Odometry Lite

## Build Directions for ERL

1. Recursively clone erl_car_localization repository in your catkin workspace.

2. Run Catkin build with Release version.

All the missing dependencies are built simultaneously with catkin cmake. These include abseil, fmt, glog, xtl, xtensor.

## Run Instructions for ERL

Use dsol_ros to run realtime using data from ros topic, and dsol_data to run on datasets. Check the launch file to see the configurable parameters; topic names, camera intrinsics, frame names can be modified here.

## Reference

Chao Qu, Shreyas S. Shivakumar, Ian D. Miller, Camillo J. Taylor

https://arxiv.org/abs/2203.08182

https://youtu.be/yunBYUACUdg

## Datasets

VKITTI2 https://europe.naverlabs.com/research/computer-vision/proxy-virtual-worlds-vkitti-2/

KITTI Odom 

TartanAir https://theairlab.org/tartanair-dataset/

Sample realsense data at

https://www.dropbox.com/s/bidng4gteeh8sx3/20220307_172336.bag?dl=0

https://www.dropbox.com/s/e8aefoji684dp3r/20220307_171655.bag?dl=0

Calib for realsense data is 

```
393.4910888671875 393.4910888671875 318.6263122558594 240.12942504882812 0.095150406
```
Put this in `calib.txt` and put it in the same folder of the realsense dataset generated by the python file.

## Build

This is a ros package, just put in a catkin workspace and build the workspace.

## Run
Open rviz using the config in `launch/dsol.rviz`

```
roslaunch dsol dsol_data.launch
```

See launch files for more details on different datasets.

See config folder for details on configs.

To run multithread and show timing every 5 frames do
```
roslaunch dsol dsol_data.launch tbb:=1 log:=5
```

## Dependencies

See CMakeLists.txt for dependencies.

## Disclaimer

For reproducing the results in the paper, place use the `iros22` branch.

This is the open-source version, advanced features are not included.
